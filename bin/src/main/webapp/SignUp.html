<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입</title>
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
/>
    <link rel="stylesheet" href="CSS/signup.css" />
</head>

<body class="login-page">
    <div class="container d-flex justify-content-center align-items-center min-vh-100">
        <div class="card login-card">
            <div class="card-body">
                <h2 class="card-title text-center">회원가입</h2>
                    
                    <div class="mb-3">
                        <label for="id" class="form-label">아이디</label>
                        <input type="text" class="form-control" id="id" name="id" placeholder="아이디를 입력하세요" required />
                    </div>
                    
                    
                    <div class="mb-3">
                        <label for="ps" class="form-label">패스워드</label>
                        <input type="password" class="form-control" id="ps" name="ps" placeholder="패스워드를 입력하세요" required />
                    </div>
                    
                    
                    <div class="mb-3">
                        <label for="ps2" class="form-label">패스워드 확인</label>
                        <input type="password" class="form-control" id="ps2" name="ps2" placeholder="패스워드를 확인하세요" required />
                    </div>
                    
                    
                    <div class="mb-3">
                        <label for="name" class="form-label">이름</label>
                        <input type="text" class="form-control" id="name" name="name" placeholder="이름을 입력하세요" required />
                    </div>
                    
                    
                    <div class="mb-3">
                        <label for="email" class="form-label">이메일</label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="이메일을 입력하세요" required />
                    </div>
                    
                    
                    <input type="submit" class="mtop-20" value="회원가입하기" onclick="signup()">
                <div class="register-link text-center mt-3">
                    <p>이미 회원이신가요?? <a href="Login.html">로그인</a></p>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/core.js"></script>
    <script>
    	function signup() {
    	          var id = $("#id").val().trim();
    	          if (id == "") {
    	              alert("아이디를 입력해 주세요.");
    	              $("#id").focus();
    	              return;
    	          }

    	          var ps = $("#ps").val().trim();
    	          if (ps == "") {
    	              alert("패스워드를 입력해 주세요.");
    	              $("#ps").focus();
    	              return;
    	          }

    	          var ps2 = $("#ps2").val().trim();
    	          if (ps != ps2) {
    	              alert("입력된 두 개의 패스워드가 일치하지 않습니다.");
    	              $("#ps2").focus();
    	              return;
    	          }

    	          var name = $("#name").val().trim();
    	          if (name == "") {
    	              alert("이름을 입력해 주세요.");
    	              $("#name").focus();
    	              return;
    	          }
    	          
    	          var email = $("#email").val().trim();
    	          if (email == "") {
    	              alert("이메일을 입력해 주세요.");
    	              $("#email").focus();
    	              return;
    	          }
    	          
    	          var usrobj = {id: id, password: ps, name: name, email: email};
    	          var params = {id: id, password: ps, name: name, email: email};
    	          
    	          var url = "JSP/SignUp.jsp";
    	          AJAX.call(url, params, function(data) {
    	              var code = data.trim();
    	              if(code == "EX") {
    	                  alert("이미 가입한 회원입니다.");
    	              }
    	              else if(code == "ER") {
    	                  alert("회원가입 처리중 에러가 발생하였습니다.");
    	              }
    	              else {
    	                  alert("회원 가입이 완료되었습니다.");
    	                  window.location.href = "Main.html";
    	              }
    	          });          
    		}
    </script>
</body>
</html>
